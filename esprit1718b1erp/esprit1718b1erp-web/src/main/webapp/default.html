<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">
	
	
	
	<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name='viewport'
	content='minimum-scale=1.0, initial-scale=1.0,
	width=device-width, maximum-scale=1.0, user-scalable=no' />
<title>room-chat</title>
 
<script type="text/javascript">

var websocket = new WebSocket('ws://localhost:18080/esprit1718b1erp-web/chatroom');
websocket.onmessage = function processMessage(message) {
	var jsonData = JSON.parse(message.data);
	if(jsonData.message!=null){
		 messagesTextArea.value += jsonData.message + "\n";}
}
function sendMessage(){
	websocket.send(messageText.value);
	messageText.value = "";
}
</script>
</head>
<body>
<textarea id="messagesTextArea" readonly="readonly" rows="10" cols="45"></textarea><br/>
<input id="messageText" type="text" size="50"/>
				<input type="button" id="send" value="Send" onclick="sendMessage();" />	
						
			
</body>
	</html>
</ui:composition>